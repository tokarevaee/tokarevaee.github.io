var mapLink=document.querySelector(".map"),mapPopup=document.querySelector(".modal-popup-map");if(mapLink&&mapPopup){var mapClose=mapPopup.querySelector(".modal-close");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("modal-popup-map-show")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("modal-popup-map-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("modal-popup-map-show")&&mapPopup.classList.remove("modal-popup-map-show"))})}var contactsLink=document.querySelector(".btn-contacts"),contactsPopup=document.querySelector(".modal-write-us");if(contactsLink&&contactsPopup){var contactsClose=contactsPopup.querySelector(".modal-close"),contactsName=contactsPopup.querySelector("[name=name]"),contactEmail=contactsPopup.querySelector("[name=email]"),contactReview=contactsPopup.querySelector("[name=review]"),contactForm=contactsPopup.querySelector(".write-us");contactsLink.addEventListener("click",function(e){e.preventDefault(),contactsPopup.classList.add("modal-write-us-show")}),contactsClose.addEventListener("click",function(e){e.preventDefault(),contactsPopup.classList.remove("modal-write-us-show"),contactsPopup.classList.remove("modal-error")}),contactForm.addEventListener("submit",function(e){contactsName.value&&contactEmail.value&&contactReview.value||(e.preventDefault(),contactsPopup.classList.remove("modal-write-us-error"),contactsPopup.offsetWidth=contactsPopup.offsetWidth,contactsPopup.classList.add("modal-write-us-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),contactsPopup.classList.contains("modal-write-us-show")&&(contactsPopup.classList.remove("modal-write-us-show"),contactsPopup.classList.remove("modal-error")))})}var basketLink=document.querySelectorAll(".catalog .buy"),basketPopup=document.querySelector(".inner-page .modal-popup-basket");if(basketLink&&basketPopup){for(var basketClose=basketPopup.querySelector(".modal-close"),basketOutput=document.querySelector(".btn-basket-white"),i=0;i<basketLink.length;i++)basketLink[i].addEventListener("click",function(e){e.preventDefault(),basketPopup.classList.add("modal-popup-basket-show")});basketClose.addEventListener("click",function(e){e.preventDefault(),basketPopup.classList.remove("modal-popup-basket-show")}),basketOutput.addEventListener("click",function(e){e.preventDefault(),basketPopup.classList.remove("modal-popup-basket-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),basketPopup.classList.contains("modal-popup-map-show")&&basketPopup.remove("modal-popup-map-show"))})}
